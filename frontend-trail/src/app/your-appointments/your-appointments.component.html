<!-- <h2>Your Appointments</h2>

<div *ngIf="appointments.length > 0; else noAppointments">
  <ul>
    <li *ngFor="let appt of appointments">
      <p><strong>Date:</strong> {{ appt.appointmentDate }}</p>
      <p><strong>Time:</strong> {{ appt.appointmentTime }}</p>
      <p><strong>Status:</strong> {{ appt.status }}</p>
      <p><strong>Doctor:</strong> {{ appt.doctor.name }} ({{ appt.doctor.specialization }})</p>
    </li>
  </ul>
</div>

<ng-template #noAppointments>
  <p>No appointments found.</p>
</ng-template> -->

<!-- <h2>Your Appointments</h2>

<div *ngIf="appointments.length > 0; else noAppointments">
  <ul>
    <li *ngFor="let appt of appointments">
      <p><strong>Date:</strong> {{ appt.appointmentDate }}</p>
      <p><strong>Time:</strong> {{ appt.appointmentTime }}</p>
      <p><strong>Status:</strong> {{ appt.status }}</p>
      <p><strong>Doctor:</strong> {{ appt.doctor.name }} ({{ appt.doctor.specialization }})</p>

      <button *ngIf="appt.status === 'COMPLETED'" (click)="viewPrescription(appt.id)">
        View Prescription
      </button>
    </li>
  </ul>
</div>

<ng-template #noAppointments>
  <p>No appointments found.</p>
</ng-template> -->


<h2>Your Appointments</h2>

<div *ngIf="appointments.length === 0">No appointments found.</div>

<div *ngFor="let appt of appointments" class="appointment-card">
  <p><strong>Appointment ID:</strong> {{ appt.appointmentId }}</p>
  <p><strong>Date:</strong> {{ appt.appointmentDate }}</p>
  <p><strong>Time:</strong> {{ appt.appointmentTime }}</p>
  <p><strong>Status:</strong> {{ appt.status }}</p>

  <h4>Doctor Info</h4>
  <p><strong>Name:</strong> {{ appt.doctor?.name }}</p>
  <p><strong>Specialization:</strong> {{ appt.doctor?.specialization }}</p>
  <p><strong>Room Number:</strong> {{ appt.doctor?.roomNumber }}</p>

  <button (click)="editAppointment(appt)">Edit</button>
  <button (click)="cancelAppointment(appt.appointmentId)">Cancel</button>
  <button (click)="viewPrescription(appt.appointmentId)">View Prescription</button>

  <hr />
</div>


<!-- <h2>Your Appointments</h2>

<ul *ngIf="appointments.length > 0">
  <li *ngFor="let appt of appointments">
    <strong>{{ appt.date }} at {{ appt.time }}</strong> -
    <span [ngClass]="appt.status.toLowerCase()">{{ appt.status }}</span>

    <div style="margin-top: 10px;">
      <button 
        (click)="editAppointment(appt)" 
        [disabled]="appt.status === 'BOOKED'">
        Edit
      </button>

      <button 
        (click)="cancelAppointment(appt.appointmentId)" 
        [disabled]="appt.status === 'BOOKED'">
        Cancel
      </button>

      <button 
        (click)="viewPrescription(appt.appointmentId)" 
        [disabled]="appt.status !== 'BOOKED'">
        View Prescription
      </button>
    </div>
  </li>
</ul>

<p *ngIf="appointments.length === 0">No appointments found.</p> -->


<!-- <h2>Your Appointments</h2>

<div *ngIf="appointments.length > 0; else noAppointments">
  <ul>
    <li *ngFor="let appt of appointments">
      <p><strong>Date:</strong> {{ appt.appointmentDate }}</p>
      <p><strong>Time:</strong> {{ appt.appointmentTime }}</p>
      <p><strong>Status:</strong> {{ appt.status }}</p>
      <p><strong>Doctor:</strong> {{ appt.doctor.name }} ({{ appt.doctor.specialization }})</p>

<button *ngIf="appt.status === 'COMPLETED' || appt.status === 'BOOKED'" (click)="viewPrescription(appt.appointmentId)">
    View Prescription
  </button>
  
      
    </li>
  </ul>
</div> -->

<!-- <ng-template #noAppointments>
  <p>No appointments found.</p>
</ng-template> -->
